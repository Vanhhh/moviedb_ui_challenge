{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\lyvie\\\\Desktop\\\\gastromatic\\\\moviedb_ui_challenge\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\lyvie\\\\Desktop\\\\gastromatic\\\\moviedb_ui_challenge\\\\src\\\\components\\\\App.js\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { TMDB_API_KEY } from \"../api/key\";\nimport Movie from \"./Movie\";\n{\n  /*import { Search } from \"react-feather\";*/\n}\nexport default function App() {\n  var _this = this;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      queryText = _useState6[0],\n      setQueryText = _useState6[1];\n\n  var _useState7 = useState(\" \"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      query = _useState8[0],\n      setQuery = _useState8[1];\n\n  var searchInput = useRef(null);\n  useEffect(function () {\n    searchInput.current.focus();\n  }, []);\n  useEffect(function () {\n    axios.get(\"https://api.themoviedb.org/3/search/movie?api_key=\".concat(TMDB_API_KEY, \"&language=en-US&query=\").concat(query, \"&page=1&include_adult=false&840\")).then(function (res) {\n      setData(res.data.results);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, [query]);\n  useEffect(function () {\n    setLoading(false);\n  }, [data]);\n  useEffect(function () {\n    if (loading) {\n      setQuery(searchInput.current.value);\n    }\n  }, [loading]);\n\n  var onSubmit = function onSubmit(event) {\n    setLoading(true);\n    event.preventDefault();\n  };\n\n  var movieListHtmlElement = data && data.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movieList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, data.map(function (item) {\n    return /*#__PURE__*/React.createElement(Movie, {\n      key: item.id,\n      movie: item,\n      className: \"movie\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    });\n  })) : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Bitte suche etwas\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"web__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    id: \"title__movie\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"Movie\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"DB\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"search\",\n    placeholder: \"Type in search query...\",\n    className: \"search\",\n    value: queryText,\n    ref: searchInput,\n    onChange: function onChange(e) {\n      return setQueryText(e.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"12\",\n    height: \"12\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"white\",\n    \"stroke-width\": \"2\",\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    class: \"feather feather-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"11\",\n    cy: \"11\",\n    r: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"21\",\n    y1: \"21\",\n    x2: \"16.65\",\n    y2: \"16.65\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Suchen\",\n    className: \"search-submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  })), loading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 18\n    }\n  }, \"Loading...\") : movieListHtmlElement);\n}","map":{"version":3,"sources":["C:/Users/lyvie/Desktop/gastromatic/moviedb_ui_challenge/src/components/App.js"],"names":["React","useEffect","useState","useRef","axios","TMDB_API_KEY","Movie","App","data","setData","loading","setLoading","queryText","setQueryText","query","setQuery","searchInput","current","focus","get","then","res","results","catch","error","console","log","value","onSubmit","event","preventDefault","movieListHtmlElement","length","map","item","id","e"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport { TMDB_API_KEY } from \"../api/key\";\r\nimport Movie from \"./Movie\";\r\n{\r\n  /*import { Search } from \"react-feather\";*/\r\n}\r\n\r\nexport default function App() {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [queryText, setQueryText] = useState(\"\");\r\n  const [query, setQuery] = useState(\" \");\r\n\r\n  const searchInput = useRef(null);\r\n\r\n  useEffect(() => {\r\n    searchInput.current.focus();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\r\n        `https://api.themoviedb.org/3/search/movie?api_key=${TMDB_API_KEY}&language=en-US&query=${query}&page=1&include_adult=false&840`\r\n      )\r\n      .then((res) => {\r\n        setData(res.data.results);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [query]);\r\n\r\n  useEffect(() => {\r\n    setLoading(false);\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    if (loading) {\r\n      setQuery(searchInput.current.value);\r\n    }\r\n  }, [loading]);\r\n\r\n  const onSubmit = (event) => {\r\n    setLoading(true);\r\n    event.preventDefault();\r\n  };\r\n\r\n  const movieListHtmlElement =\r\n    data && data.length ? (\r\n      <div className=\"movieList\">\r\n        {data.map((item) => (\r\n          <Movie key={item.id} movie={item} className=\"movie\" />\r\n        ))}\r\n      </div>\r\n    ) : (\r\n      <span>Bitte suche etwas</span>\r\n    );\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1 className=\"web__title\">\r\n        <span id=\"title__movie\">Movie</span>\r\n        <span>DB</span>\r\n      </h1>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"search\"\r\n          placeholder=\"Type in search query...\"\r\n          className=\"search\"\r\n          value={queryText}\r\n          ref={searchInput}\r\n          onChange={(e) => setQueryText(e.value)}\r\n        />\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"12\"\r\n          height=\"12\"\r\n          viewBox=\"0 0 24 24\"\r\n          fill=\"none\"\r\n          stroke=\"white\"\r\n          stroke-width=\"2\"\r\n          stroke-linecap=\"round\"\r\n          stroke-linejoin=\"round\"\r\n          class=\"feather feather-search\"\r\n        >\r\n          <circle cx=\"11\" cy=\"11\" r=\"8\"></circle>\r\n          <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line>\r\n        </svg>\r\n        {/*<Search className=\"search-submit\" color=\"white\"/>*/}\r\n        <input type=\"submit\" value=\"Suchen\" className=\"search-submit\" />\r\n      </form>\r\n      {loading ? <p>Loading...</p> : movieListHtmlElement}\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}