{"ast":null,"code":"import _slicedToArray from \"/Users/volkermatthes/Coding/moviedb_ui_challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/volkermatthes/Coding/moviedb_ui_challenge/src/components/App.js\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { TMDB_API_KEY } from \"../api/key\";\nimport Movie from \"./Movie\";\nexport default function App() {\n  var _this = this;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      queryText = _useState6[0],\n      setQueryText = _useState6[1];\n\n  var _useState7 = useState(\" \"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      query = _useState8[0],\n      setQuery = _useState8[1];\n\n  var searchInput = useRef(null);\n  useEffect(function () {\n    searchInput.current.focus();\n  }, []);\n  useEffect(function () {\n    axios.get(\"https://api.themoviedb.org/3/search/movie?api_key=\".concat(TMDB_API_KEY, \"&language=en-US&query=\").concat(query, \"&page=1&include_adult=false&840\")).then(function (res) {\n      setData(res.data.results);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, [query]);\n  useEffect(function () {\n    setLoading(false);\n  }, [data]);\n  useEffect(function () {\n    if (loading) {\n      setQuery(searchInput.current.value);\n    }\n  }, [loading]);\n\n  var onSubmit = function onSubmit(event) {\n    setLoading(true);\n    event.preventDefault();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"MovieDB\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"search\",\n    value: queryText,\n    ref: searchInput,\n    onChange: function onChange(e) {\n      return setQueryText(e.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Suchen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  })), loading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, \"Loading...\") : data && data.length ? data.map(function (item) {\n    return /*#__PURE__*/React.createElement(Movie, {\n      key: item.id,\n      movie: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 28\n      }\n    });\n  }) : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"Bitte suche etwas\"));\n}","map":{"version":3,"sources":["/Users/volkermatthes/Coding/moviedb_ui_challenge/src/components/App.js"],"names":["React","useEffect","useState","useRef","axios","TMDB_API_KEY","Movie","App","data","setData","loading","setLoading","queryText","setQueryText","query","setQuery","searchInput","current","focus","get","then","res","results","catch","error","console","log","value","onSubmit","event","preventDefault","e","length","map","item","id"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,YAA7B;AAEA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,eAAe,SAASC,GAAT,GAAe;AAAA;;AAAA,kBACJL,QAAQ,CAAC,IAAD,CADJ;AAAA;AAAA,MACrBM,IADqB;AAAA,MACfC,OADe;;AAAA,mBAEEP,QAAQ,CAAC,KAAD,CAFV;AAAA;AAAA,MAErBQ,OAFqB;AAAA,MAEZC,UAFY;;AAAA,mBAGMT,QAAQ,CAAC,EAAD,CAHd;AAAA;AAAA,MAGrBU,SAHqB;AAAA,MAGVC,YAHU;;AAAA,mBAIFX,QAAQ,CAAC,GAAD,CAJN;AAAA;AAAA,MAIrBY,KAJqB;AAAA,MAIdC,QAJc;;AAM5B,MAAMC,WAAW,GAAGb,MAAM,CAAC,IAAD,CAA1B;AAEAF,EAAAA,SAAS,CAAC,YAAM;AACde,IAAAA,WAAW,CAACC,OAAZ,CAAoBC,KAApB;AACD,GAFQ,EAEN,EAFM,CAAT;AAIAjB,EAAAA,SAAS,CAAC,YAAM;AACdG,IAAAA,KAAK,CACFe,GADH,6DAEyDd,YAFzD,mCAE8FS,KAF9F,sCAIGM,IAJH,CAIQ,UAACC,GAAD,EAAS;AACbZ,MAAAA,OAAO,CAACY,GAAG,CAACb,IAAJ,CAASc,OAAV,CAAP;AACD,KANH,EAOGC,KAPH,CAOS,UAACC,KAAD,EAAW;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KATH;AAUD,GAXQ,EAWN,CAACV,KAAD,CAXM,CAAT;AAaAb,EAAAA,SAAS,CAAC,YAAM;AACdU,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAFQ,EAEN,CAACH,IAAD,CAFM,CAAT;AAIAP,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIS,OAAJ,EAAa;AACXK,MAAAA,QAAQ,CAACC,WAAW,CAACC,OAAZ,CAAoBU,KAArB,CAAR;AACD;AACF,GAJQ,EAIN,CAACjB,OAAD,CAJM,CAAT;;AAMA,MAAMkB,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAC1BlB,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAkB,IAAAA,KAAK,CAACC,cAAN;AACD,GAHD;;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAM,IAAA,QAAQ,EAAEF,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,KAAK,EAAEhB,SAHT;AAIE,IAAA,GAAG,EAAEI,WAJP;AAKE,IAAA,QAAQ,EAAE,kBAACe,CAAD;AAAA,aAAOlB,YAAY,CAACkB,CAAC,CAACJ,KAAH,CAAnB;AAAA,KALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CAFF,EAYGjB,OAAO,gBACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADM,GAEJF,IAAI,IAAIA,IAAI,CAACwB,MAAb,GACFxB,IAAI,CAACyB,GAAL,CAAS,UAACC,IAAD;AAAA,wBAAU,oBAAC,KAAD;AAAO,MAAA,GAAG,EAAEA,IAAI,CAACC,EAAjB;AAAqB,MAAA,KAAK,EAAED,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAV;AAAA,GAAT,CADE,gBAGF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAjBJ,CADF;AAsBD","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { TMDB_API_KEY } from \"../api/key\";\n\nimport Movie from \"./Movie\";\n\nexport default function App() {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [queryText, setQueryText] = useState(\"\");\n  const [query, setQuery] = useState(\" \");\n\n  const searchInput = useRef(null);\n\n  useEffect(() => {\n    searchInput.current.focus();\n  }, []);\n\n  useEffect(() => {\n    axios\n      .get(\n        `https://api.themoviedb.org/3/search/movie?api_key=${TMDB_API_KEY}&language=en-US&query=${query}&page=1&include_adult=false&840`\n      )\n      .then((res) => {\n        setData(res.data.results);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, [query]);\n\n  useEffect(() => {\n    setLoading(false);\n  }, [data]);\n\n  useEffect(() => {\n    if (loading) {\n      setQuery(searchInput.current.value);\n    }\n  }, [loading]);\n\n  const onSubmit = (event) => {\n    setLoading(true);\n    event.preventDefault();\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>MovieDB</h1>\n      <form onSubmit={onSubmit}>\n        <input\n          type=\"text\"\n          name=\"search\"\n          value={queryText}\n          ref={searchInput}\n          onChange={(e) => setQueryText(e.value)}\n        />\n        <input type=\"submit\" value=\"Suchen\" />\n      </form>\n      {loading ? (\n        <p>Loading...</p>\n      ) : data && data.length ? (\n        data.map((item) => <Movie key={item.id} movie={item} />)\n      ) : (\n        <span>Bitte suche etwas</span>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}